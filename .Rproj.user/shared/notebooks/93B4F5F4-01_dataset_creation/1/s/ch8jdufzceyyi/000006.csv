"0","AKIdevelopmentW<-AKIdevelopment"
"0","## Winsorization: Replace the extreme observations using 95% and 5% percentiles"
"0","winsorize_x = function(x, cut = 0.05){"
"0","  cut_point_top <- quantile(x, 1 - cut, na.rm = T)"
"0","  cut_point_bottom <- quantile(x, cut, na.rm = T)"
"0","  i = which(x >= cut_point_top) "
"0","  x[i] = cut_point_top"
"0","  j = which(x <= cut_point_bottom) "
"0","  x[j] = cut_point_bottom"
"0","  return(x)"
"0","}"
"0","AKIdevelopmentW$creat1<-winsorize_x(AKIdevelopmentW$creat1)"
"0","AKIdevelopmentW$peakcreat7d<-winsorize_x(AKIdevelopmentW$peakcreat7d)"
"0","AKIdevelopmentW$peakcreat48h<-winsorize_x(AKIdevelopmentW$peakcreat48h)"
"0","#Now we turn all emptpy values into 0"
"0","AKIdevelopmentW$creat1[is.na(AKIdevelopmentW$creat1)]<-0"
"0","AKIdevelopmentW$peakcreat7d[is.na(AKIdevelopmentW$peakcreat7d)]<-0"
"0","AKIdevelopmentW$peakcreat48h[is.na(AKIdevelopmentW$peakcreat48h)]<-0"
