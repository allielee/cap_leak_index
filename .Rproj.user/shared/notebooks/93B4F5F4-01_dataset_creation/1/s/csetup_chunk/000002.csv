"0","project_id <- ""physionet-data"""
"0","options(httr_oauth_cache=FALSE)"
"0","run_query <- function(query){"
"0","  data <- query_exec(query, project=project_id, use_legacy_sql=FALSE,max_pages = Inf)"
"0","  return(data)"
"0","}"
"0","# function for reading sql files"
"0","getSQL <- function(filepath){"
"0","  con = file(filepath, ""r"")"
"0","  sql.string <- """""
"0","  while (TRUE){"
"0","    line <- readLines(con, n = 1)"
"0","    if ( length(line) == 0 ){"
"0","      break"
"0","    }"
"0","    line <- gsub(""\\t"", "" "", line)"
"0","    if(grepl(""--"",line) == TRUE){"
"0","      line <- paste(sub(""--"",""/*"",line),""*/"")"
"0","    }"
"0","    sql.string <- paste(sql.string, line)"
"0","  }"
"0","  close(con)"
"0","  return(sql.string)"
"0","}"
